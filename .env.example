# ===========================================
# SUPABASE CONFIGURATION
# ===========================================
# Update these with your Supabase details from your project settings > API
# https://app.supabase.com/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=your-project-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key

# Service role key - REQUIRED for AI processing (server-side operations)
# Get from: Supabase Dashboard > Settings > API > "Service role key"
# ⚠️ NEVER commit this key - it has full database access
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Connect to Supabase via connection pooling
DATABASE_URL="postgresql://postgres.[SUPABASE-PROJECT-ID]:[DB_PASSWORD]@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres?pgbouncer=true"

# Direct connection to the database. Used for migrations
DIRECT_URL="postgresql://postgres.[SUPABASE-PROJECT-ID]:[DB_PASSWORD]@aws-1-ap-southeast-1.pooler.supabase.com:5432/postgres"

# ===========================================
# PHASE 3: AI INTEGRATION - REQUIRED
# ===========================================

# OpenAI API - REQUIRED for transcription and content generation
# Get from: https://platform.openai.com/api-keys
# 1. Create account at platform.openai.com
# 2. Add payment method (required for Whisper/GPT-4)
# 3. Create API key (format: sk-proj-xxxxxxxxxx)
# Cost: ~$0.006/minute for Whisper, ~$0.01-0.03 per description
OPENAI_API_KEY=sk-proj-your-openai-api-key

# Inngest - REQUIRED for background job processing
# Get from: https://inngest.com
# 1. Create account and new app
# 2. Get Event Key and Signing Key from app dashboard
# Free tier: 25,000 events/month
INNGEST_EVENT_KEY=evt_your_inngest_event_key
INNGEST_SIGNING_KEY=signkey_test_your_inngest_signing_key

# ===========================================
# AI PROCESSING SETTINGS (Optional - defaults shown)
# ===========================================

# Maximum audio file size in MB (default: 500MB)
MAX_FILE_SIZE_MB=500

# Chunk size for large files in MB (default: 20MB, max: 24MB for Whisper API)
CHUNK_SIZE_MB=20

# Overlap between chunks in seconds (default: 5 seconds)
CHUNK_OVERLAP_SECONDS=5

# Maximum retry attempts for failed operations (default: 3)
MAX_RETRY_ATTEMPTS=3

# ===========================================
# WORKER DEPLOYMENT (Optional - for production)
# ===========================================

# Railway worker URL - Skip for local development
# Set this when deploying background workers to Railway
# RAILWAY_WORKER_URL=https://your-worker.railway.app

# ===========================================
# APP SETTINGS
# ===========================================
NEXT_PUBLIC_APP_URL=http://localhost:3000
NODE_ENV=development

# ===========================================
# SETUP INSTRUCTIONS
# ===========================================
# 
# 1. SUPABASE (Already set up in Phase 1-2):
#    - Copy URL and anon key from dashboard
#    - Add service role key for AI processing
#
# 2. OPENAI (Phase 3 - Required):
#    - Sign up at platform.openai.com
#    - Add payment method (required)
#    - Generate API key
#    - Set monthly usage limits
#
# 3. INNGEST (Phase 3 - Required):
#    - Sign up at inngest.com  
#    - Create new app
#    - Copy Event Key and Signing Key
#    - For local dev: run `npx inngest-cli@latest dev`
#
# 4. RAILWAY (Phase 3 - Optional):
#    - Can skip for local development
#    - Set up later for production workers
#
# ===========================================